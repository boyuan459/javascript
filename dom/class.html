<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style type="text/css">
		div {
			width: 100px;
			height: 100px;
			background: pink;
			margin: 10px;
		}
	</style>
</head>
<body>
	<div></div>
	<div class="demo"></div>
	<div class="test"></div>
	<div id="one">
		<div class="demo test"></div>
		<div></div>
		<div></div>
		<div class="demo"></div>
	</div>
	<div></div>
	<div class="demo test"></div>
	<div></div>
	<div></div>
	<div class="demo"></div>
	<div></div>
	<script type="text/javascript">
		function getClass(classname, id) {
			if (document.getElementsByClassName) {
				if (id) {
					var ele = document.getElementById(id);
					return ele.getElementsByClassName(classname);
				}
				return document.getElementsByClassName(classname);
			}

			var arr = [];
			if (id) {
				var ele = document.getElementById(id);
				var dom = ele.getElementsByTagName("*");
			} else {
				var dom = document.getElementsByTagName("*");
			}
			
			for(var i=0;i<dom.length;i++) {
				var txtarr = dom[i].className.split(" ");

				for(var j=0;j<txtarr.length;j++) {
					if (txtarr[j] == classname) {
						arr.push(dom[i]);
					}
				}				
			}

			return arr;
		}
		
		console.log(getClass('demo', 'one'));
	</script>
</body>
</html>